<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Streams</title>
    <head>
      <script
        type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"
      ></script>
      <style>
        html {
          background: black;
          display: grid;
          place-items: center;
        }

        input[type="text"] {
          margin-top: 50px;
          background: white;
          height: 25px;
          width: 250px;
          border: 1px black;
          padding: 2px;
        }

        input[type="submit"] {
            background: white;
            padding: 2px;
            margin-left: 4px;
            border-radius: 4px;
        }

        .hide {
          display: none;
        }
      </style>
    </head>
  </head>
  <body>
    <input type="text" placeholder="video link" />
    <input type="submit" value="Set link" />
    <div id="player"></div>
    <script defer>
      const submit = document.querySelector('input[type="submit"]');
      const input = document.querySelector('input[type="text"]');

      submit.addEventListener("click", (e) => {
        e.preventDefault();

        input.classList.add("hide");
        submit.classList.add("hide");
        var player = new Clappr.Player({
          source: input.value,
          parentId: "#player",
          autoPlay: true,
          poster: "",
          plugins: [],

          mediacontrol: {
            seekbar: "#0053EF",
            buttons: "#FAFAFA",
          },
          mimeType: "application/x-mpegURL",
          width: "100%",
          height: "100vh",
          events: {},
          disableErrorScreen: false,
          disableKeyboardShortcuts: false,
          disableVideoTagContextMenu: false,
          hlsRecoverAttempts: 4,
          retryFailedSegments: false,
          playback: {
            hlsjsConfig: {
              retryFailedSegments: false,
              maxBufferSize: 0,
              // Highly recommended setting in live mode
              startLevel: 7,
              maxBufferLength: 5,
              // Highly recommended setting in live mode
              liveSyncDurationCount: 3,
              // Highly recommended setting in live mode
            },
          },
        });
      });
    </script>
  </body>
</html>
